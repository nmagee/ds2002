<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>CS4740 Cloud Computing - Cost Control Lab</title>

    <link rel="stylesheet" href="https://nmagee.github.io/cs4740/stylesheets/styles.css">
    <link rel="stylesheet" href="https://nmagee.github.io/cs4740/stylesheets/github-light.css">
    <link rel="Shortcut Icon" href="https://www.rc.virginia.edu/images/favicon.ico" type="image/x-icon" />
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <style>
      li {margin-bottom:1rem;}
      .btn {padding:8px;margin-right:8px;background-color:#555;color:white;border-radius: 4px;}
    </style>

  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1><a href="https://nmagee.github.io/cs4740/" style="color:black;text-decoration:none;">CS4740 Cloud Computing</a></h1>
        <p>Neal Magee, Ph.D.<br />Solution Architect, Research Computing<br />University of Virginia, Fall 2020</p>

        <div style="min-height:2rem;"></div>

        <ul>
          <li><a href="https://nmagee.github.io/cs4740/">Return to the<strong>Syllabus</strong></a></li>
          <li><a href="https://l.uvarc.io/youtube-lectures" target="_new">View lectures<strong>YouTube</strong></a></li>
          <li><a href="https://l.uvarc.io/discord">Discussions on <strong>Discord</strong></a></li>
        </ul>
      </header>
      <section>
        
<h2>Lab: Cost Control in AWS</h2>

<p>Effectively anticipating, monitoring, and controlling your costs in a public cloud is vital. Unlike previous hardware models
where purchased infrastructure is paid for and runs 24/7 for much less costs, public cloud infrastructure can <i>quickly and easily</i>
accrue costs in the hundreds and thousands of dollars.</p>

<p>This lab introduces the basics of cost control in your Amazon Web Services account.</p>

<div style="margin:2rem 0 2rem 0;">
  <a href="#cost"><button class="btn">Cost Management</button></a>
  <a href="#billing"><button class="btn">Billing Service</button></a>
  <a href="#budget"><button class="btn">Set a Budget</button></a>
  <a href="#alert"><button class="btn">Create an Alert</button></a>
</div>

<ol style="">
  <li><a name="cost"></a>Sign into your AWS account.
  <li>Go to the Billing Service <a href="https://console.aws.amazon.com/billing/" target="_new"><code>https://console.aws.amazon.com/billing/</code></a>
  <li>Review your <b>Spend Summary</b> on that page. Click through using the <b>Cost Explorer</b> button and visit the Cost Management service. This allows you to drill down into your current spending, broken down by service and region. This service also projects your anticipated monthly charge. It is important that you can identify the source of every charge and how to disable services as needed.
      <img src="../images/spend-summary.png" alt="Spend Summary" style="" />
  <li>Return to the Billing console.
  <li><a name="billing"></a>Click through to the <b>Bills</b> section of the Billing Service. <a href="https://console.aws.amazon.com/billing/home#/bills" target="_new"><code>https://console.aws.amazon.com/billing/home#/bills</code></a>
  <li>At the top of the page is a drop-down list to select current and past bills for your account. Below that is an itemized list of every service in which you incur a charge for that month. These are aggregated by service and region. More explanation on pricing for services such as S3 and EC2 will be touched on later in the course.
      <img src="../images/billing-details.png" alt="Billing Details by month" style="" />
  <li>Even if you have no charges so far, it is good to know where to look for these charges. These itemized bills are granular down to the actual seconds of operation for some services such as EC2 and RDS.
  <li><a name="budget"></a>An important backstop to cost overrun is setting up a budget and alarm should your charges come close to your budgeted amount. In the next steps you will create a budget and budget alarm.
  <li>Go to the <b>Budgets</b> page within the Billing Service <a href="https://console.aws.amazon.com/billing/home?#/budgets" target="_new"><code>https://console.aws.amazon.com/billing/home?#/budgets</code></a>
  <li>Click on the <b>Create budget</b> button.
      <img src="../images/budget-types.png" alt="Budget types" style="" />
  <li>Notice that you can set up multiple budgets of a variety of types. Read through each of the four budget types, and then select <b>Cost budget</b>. Click on <b>Set your budget</b>.
  <li>Give your budget a <b>name</b> and set the monthly <b>amount</b> for your budget. This is a simple budget for all services, so you do not need to use filters, regions, types, tags, etc. But take note that these filters can be helpful for additional budgets that are finely scoped to a specific project or application you are running in the midst of other infrastructure.
      <img src="../images/set-your-budget.png" alt="Set your budget" style="" />
  <li>Click <b>Configure Alerts</b> to go to the next step.
  <li><a name="alert"></a>Create a simple budget alert based on actual costs. You can then set the percentage of your budget that you would like to trigger email alerts, such as 75% or 80% of the total. Next, specify an email address for the alert to be sent to. You can send alerts to multiple addresses, as well as the SQS service for more automated integration.
      <img src="../images/budget-alerts.png" alt="Set up budget alerts" style="" />
  <li>Click on <b>Confirm budget</b>.
  <li>You are then presented with a confirmation screen. From here you can go back and change any parameters of your budget or alert, or save it by clicking on <b>Create</b>.
  <li>At any point you can review your budgets at a glance and track their progress of forecasted vs. actual expenses.
      <img src="../images/aws-budgets.png" alt="AWS Budgets" style="" />
  <li>You will now receive email alerts as you approach your monthly budget!
</ol>

      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/nmagee">nmagee</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="https://nmagee.github.io/cs4740/javascripts/scale.fix.js"></script>
    
  </body>
</html>
